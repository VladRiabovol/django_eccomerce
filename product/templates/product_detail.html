{% extends 'base.html' %}
{% block content %}
    <div class="container mt-4 rounded-3 border shadow-lg p-2 p-md-4 p-lg-5">
        <div class="row p-1">
            <div class="col-md-5 p-0 m-auto">
                <img src="data:image/jpg;base64, {{ product.image.base_64 }}" class="d-block img-fluid"
                     alt="Bootstrap Themes" loading="lazy">
            </div>
            <div class="col-md-6 d-grid justify-content-center p-5">
                <div class="d-flex flex-column position-static">
                    <strong class="d-inline-block mb-2 text-primary">{{ object.category.title }}</strong>
                    <h1 class="display-5 fw-bold lh-1 mb-3">{{ object.title }}</h1>
                    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                        <button type="button" class="btn btn-primary"><strong>ðŸ›’ Add to cart</strong></button>
                        <button type="button" class="btn btn-outline-primary"><strong>Buy now!</strong></button>
                        <button type="button" class="btn btn-outline-danger">â™¥</button>
                    </div>
                    <h1 class="display-5 fw-bold lh-1 mt-3 mb-4">{{ object.price }}$</h1>
                    <div class="card-text">
                        {% for desc in product.get_description_as_list %}
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item ps-1">
                                    <small class="text-secondary text-uppercase">{{ desc.0 }}: </small>
                                    <small class="badge text-dark">{{ desc.1 }}</small>
                                </li>
                            </ul>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
{% block comments %}
    <section class="container mb-4 text-center rounded-3 g-2">
        <div class="row">
            {% for comment in comments_list %}
                <div class="col-md-6 justify-content-around mt-4">
                    <div class="rounded-3 border shadow-lg p-2 d-flex justify-content-between">
                        <p class="text-start m-0 d-inline-block px-2">
                            <strong>@{{ comment.user.username }}</strong>
                            rated: â˜†{{ comment.rate }}
                        </p>
                        <p class=" ps-3 m-0 d-inline-block text-end text-primary px-2">
                            <small>{{ comment.updated_at.date }}</small></p>
                    </div>
                    <div class="rounded-3 border p-4 mt-1">
                        <h6 class=" mt-1 text-start px-2">
                            {{ comment.subject }}
                        </h6>
                        <p class="d-block text-start px-4">
                            {{ comment.comment }}
                        </p>
                    </div>
                </div>
            {% endfor %}
        </div>
        <form method="POST" enctype="multipart/form-data" class="row mt-4">
            {% csrf_token %}
            <div class="col-8">
                <div class="form-floating mb-3">
                    {{ form.subject }}
                    {{ form.subject.label_tag }}
                </div>
            </div>
            <div class="col-4">
                <div class="form-floating mb-3">
                    {{ form.rate }}
                    {{ form.rate.label_tag }}
                </div>
            </div>
            <div class="col-8">
                <div class="form-floating">
                    <div class="form-floating mb-3">
                        {{ form.comment }}
                        {{ form.comment.label_tag }}
                    </div>
                </div>
            </div>
            <div class="col-4">
                <div class="d-grid gap-2" type="submit">
                    <button type="submit" class="btn btn-lg btn-primary">Submit</button>
                </div>
            </div>
        </form>
    </section>
{% endblock %}
{% block category_footer %}
    <section class="row align-items-md-stretch">
        <div class="col-md">
            <div class="justify-content-center d-flex w-100 h-100 align-items-center border rounded-3 p-5">
                <div class="d-block text-center">
                    <h6 class="text-dark text-uppercase mb-2">Categories</h6>
                    {% for category in categories_list %}
                        <p class="badge border border-primary rounded-pill mx-1">
                            <a href="{% url 'category-list' category.slug %}" class="text-decoration-none">
                                <i>{{ category.title }}</i>
                            </a>
                        </p>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-md-8 mt-4 mt-md-0 mt-lg-0">
            <div class="h-100 p-5 text-white bg-dark rounded-3 d-block">
                <h1 class="text-uppercase d-inline-block me-2 text-white">Electric personal transporter</h1>
                <p>The motorised micromobility vehicle for transporting an individual at speeds that do not normally
                    exceed 25 km/h (16 mph). Include electric skateboards, kick scooters, electric bicycle and
                    self-balancing unicycles.
                </p>
                <button class="btn btn-sm rounded-2 btn-secondary text-dark" type="button">
                    <i><strong>Contact us</strong></i></button>
            </div>
        </div>
    </section>
{% endblock %}
